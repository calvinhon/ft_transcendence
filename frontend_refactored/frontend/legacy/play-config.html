<!DOCTYPE html>
<html lang="en" class="h-full bg-bg-primary">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Play Configuration - ft_transcendence</title>
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <script type="module" crossorigin src="./src/main.ts"></script>
    <link rel="stylesheet" crossorigin href="./css/style.css" />
  </head>
  <body class="h-full bg-bg-primary overflow-hidden text-white">
    <div id="root"></div>
    <div id="app" class="h-screen w-screen relative">
      <!-- ====================
           PLAY CONFIGURATION
      ==================== -->
      <div
        id="play-config-screen"
        class="screen w-full h-full bg-bg-primary p-4 border-[4px] border-accent box-border flex flex-col"
      >
        <!-- Top Tabs (Navigation) -->
        <div class="flex w-full border-b-2 border-accent mb-4">
          <button
            data-mode="coop"
            class="px-8 py-3 font-vcr uppercase game-mode-tab"
          >
            CAMPAIGN
          </button>
          <button
            data-mode="arcade"
            class="px-8 py-3 font-vcr uppercase active-tab game-mode-tab"
          >
            ARCADE
          </button>
          <button
            data-mode="tournament"
            class="px-8 py-3 font-vcr uppercase game-mode-tab"
          >
            TOURNAMENT
          </button>

          <!-- Hidden Back Button functionality moved to logic -->
          <div class="flex-1 bg-black"></div>
          <button
            id="back-to-main-btn"
            class="px-4 text-accent hover:text-white"
          >
            <i class="fas fa-times"></i>
          </button>
        </div>

        <!-- Main Content Grid -->
        <div
          class="flex-1 grid grid-cols-1 md:grid-cols-12 gap-4 overflow-hidden"
        >
          <!-- Left Column: Settings & Description (Col Span 3) -->
          <div
            class="md:col-span-3 flex flex-col gap-6 border-r-0 md:border-r border-panel-border pr-4 overflow-y-auto"
          >
            <!-- Mode Header -->
            <div>
              <h2 class="text-3xl font-vcr text-white uppercase mb-2">
                CAMPAIGN
              </h2>
              <p class="text-xs text-text-muted font-pixel leading-relaxed">
                Go through the campaign and take on the aliens as they scale in
                difficulty.
              </p>
            </div>

            <!-- Divider -->
            <div class="h-[2px] bg-accent w-full my-2"></div>

            <!-- Settings Controls -->
            <div class="flex flex-col gap-6">
              <!-- Ball Speed -->
              <div class="flex flex-col gap-2">
                <label class="font-vcr text-white text-sm">Ball Speed</label>
                <div class="flex border border-accent">
                  <button
                    class="flex-1 py-1 text-xs font-pixel hover:bg-accent hover:text-black border-r border-accent text-white"
                    data-setting="ball-speed"
                    data-value="slow"
                  >
                    SLOW
                  </button>
                  <button
                    class="flex-1 py-1 text-xs font-pixel bg-accent text-black border-r border-accent font-bold"
                    data-setting="ball-speed"
                    data-value="medium"
                  >
                    MEDIUM
                  </button>
                  <button
                    class="flex-1 py-1 text-xs font-pixel hover:bg-accent hover:text-black text-white"
                    data-setting="ball-speed"
                    data-value="fast"
                  >
                    FAST
                  </button>
                </div>
              </div>

              <!-- Paddle Speed -->
              <div class="flex flex-col gap-2">
                <label class="font-vcr text-white text-sm">Paddle Speed</label>
                <div class="flex border border-accent">
                  <button
                    class="flex-1 py-1 text-xs font-pixel hover:bg-accent hover:text-black border-r border-accent text-white"
                    data-setting="paddle-speed"
                    data-value="slow"
                  >
                    SLOW
                  </button>
                  <button
                    class="flex-1 py-1 text-xs font-pixel bg-accent text-black border-r border-accent font-bold"
                    data-setting="paddle-speed"
                    data-value="medium"
                  >
                    MEDIUM
                  </button>
                  <button
                    class="flex-1 py-1 text-xs font-pixel hover:bg-accent hover:text-black text-white"
                    data-setting="paddle-speed"
                    data-value="fast"
                  >
                    FAST
                  </button>
                </div>
              </div>

              <!-- Toggles -->
              <div class="flex flex-col gap-2 mt-2">
                <label
                  class="flex justify-between items-center cursor-pointer group"
                >
                  <span class="font-vcr text-white text-sm">Powerups</span>
                  <input
                    type="checkbox"
                    id="powerups-enabled"
                    class="w-5 h-5 border-2 border-accent bg-transparent checked:bg-accent appearance-none cursor-pointer"
                  />
                </label>
                <label
                  class="flex justify-between items-center cursor-pointer group"
                >
                  <span class="font-vcr text-white text-sm"
                    >Accelerate on Hit</span
                  >
                  <input
                    type="checkbox"
                    id="accelerate-on-hit"
                    class="w-5 h-5 border-2 border-accent bg-transparent checked:bg-accent appearance-none cursor-pointer"
                  />
                </label>

                <!-- Arcade Score (Hidden unless arcade) -->
                <div
                  class="arcade-only hidden flex justify-between items-center mt-2"
                >
                  <span class="font-vcr text-white text-sm">Max Score</span>
                  <div class="flex items-center gap-2">
                    <button
                      id="score-decrement"
                      class="text-accent hover:text-white"
                    >
                      -
                    </button>
                    <span id="score-value" class="font-pixel text-white"
                      >5</span
                    >
                    <button
                      id="score-increment"
                      class="text-accent hover:text-white"
                    >
                      +
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <div class="mt-auto pt-8">
              <button
                id="start-game-btn"
                class="w-full py-4 bg-accent text-black font-bold font-vcr text-2xl uppercase hover:bg-white transition-colors shadow-glow"
              >
                PLAY
              </button>
            </div>
          </div>

          <!-- Middle Column: Party (Col Span 4) -->
          <div
            class="md:col-span-4 flex flex-col border-r-0 md:border-r border-panel-border px-4"
          >
            <div
              class="bg-accent text-black p-2 font-bold font-vcr uppercase mb-4 flex justify-between"
            >
              <span>PARTY</span>
              <span class="text-xs pt-1">1/1</span>
            </div>

            <div class="flex flex-col gap-2">
              <div class="text-xs text-text-muted uppercase mb-1 font-pixel">
                TEAM 1
              </div>
              <!-- Host Card -->
              <div id="game-party-list" class="flex flex-col gap-2">
                <!-- The JS injects player cards here. We style the container -->
                <div id="coop-party-frame">
                  <div
                    class="border border-white p-3 flex items-center justify-between bg-black"
                  >
                    <div class="flex items-center gap-3">
                      <img
                        src="https://ui-avatars.com/api/?name=User&background=random"
                        class="w-8 h-8 border border-white"
                      />
                      <span
                        id="host-player-name-coop"
                        class="font-vcr text-white"
                        >Loading...</span
                      >
                    </div>
                    <i class="fas fa-crown text-white text-xs"></i>
                  </div>
                </div>

                <!-- Arcade/Tournament Slots placeholders for styling -->
                <div id="teams-row" class="flex flex-col gap-4 hidden">
                  <div id="team1-list"></div>
                  <div
                    class="text-xs text-text-muted uppercase mt-2 mb-1 font-pixel"
                  >
                    TEAM 2
                  </div>
                  <div id="team2-list"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Right Column: Available Players (Col Span 5) -->
          <div class="md:col-span-5 flex flex-col pl-4">
            <div
              class="bg-accent text-black p-2 font-bold font-vcr uppercase mb-4 flex justify-between"
            >
              <span>AVAILABLE</span>
              <span id="available-player-count" class="text-xs pt-1">0</span>
            </div>

            <!-- Mock list to match screenshot look, real logic via JS -->
            <div class="flex flex-col gap-2 overflow-y-auto pr-2">
              <!-- Add Player Button acts as the "Available" list interaction -->
              <button
                id="add-team1-player-btn"
                class="border border-white p-3 flex items-center justify-between hover:bg-white/10 text-left group w-full"
              >
                <span class="font-vcr text-white group-hover:text-accent"
                  >Add Player</span
                >
                <span class="text-white">+</span>
              </button>

              <!-- This container gets populated by JS for local/online players -->
              <div
                id="tournament-local-players-list"
                class="grid grid-cols-2 gap-2"
              ></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
